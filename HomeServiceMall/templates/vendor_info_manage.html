<!DOCTYPE html>
<html lang="zxx">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge"/>
    <title>Let's购 信息修改</title>
    <meta name="description"
          content="240+ Best Bootstrap Templates are available on this website. Find your template for your project compatible with the most popular HTML library in the world."/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>

    <!-- Open Graph (OG) meta tags are snippets of code that control how URLs are displayed when shared on social media  -->
    <meta property="og:locale" content="en_US"/>
    <meta property="og:type" content="website"/>
    <meta property="og:title" content="Furns - Responsive eCommerce HTML Template"/>
    <meta property="og:url" content="PAGE_URL"/>
    <meta property="og:site_name" content="Furns - Responsive eCommerce HTML Template"/>
    <!-- For the og:image content, replace the # with a link of an image -->
    <meta property="og:image" content="#"/>
    <meta property="og:description" content="Furns - Responsive eCommerce HTML Template"/>
    <meta name="robots" content="noindex, follow"/>
    <!-- Add site Favicon -->
    <link rel="icon" href="/static/Images/favicon/favicon.png" sizes="32x32"/>
    <link rel="icon" href="/static/Images/favicon/favicon.png" sizes="192x192"/>
    <link rel="apple-touch-icon" href="/static/Images/favicon/favicon.png"/>
    <meta name="msapplication-TileImage" content="/static/Images/favicon/favicon.png"/>
    <!-- CSS
    ============================================ -->

    <!-- Vendor CSS (Contain Bootstrap, Icon Fonts) -->
    <!-- <link rel="stylesheet" href="/static/CSS/vendor/font-awesome.min.css"/> -->
    <!-- <link rel="stylesheet" href="/static/CSS/vendor/Pe-icon-7-stroke.css"/> -->

    <!-- Plugin CSS (Global Plugins Files) -->
    <!-- <link rel="stylesheet" href="/static/CSS/plugins/animate.css"> -->
    <!-- <link rel="stylesheet" href="/static/CSS/plugins/jquery-ui.min.css"> -->
    <!-- <link rel="stylesheet" href="/static/CSS/plugins/swiper-bundle.min.css"> -->
    <!-- <link rel="stylesheet" href="/static/CSS/plugins/nice-select.css"> -->
    <!-- <link rel="stylesheet" href="/static/CSS/plugins/magnific-popup.min.css"/> -->
    <link rel="stylesheet" href="/static/CSS/vendor/vendor.min.css"/>
    <link rel="stylesheet" href="/static/CSS/plugins/plugins.min.css"/>
    <link rel="stylesheet" href="/static/CSS/style.min.css">
    <link rel="stylesheet" href="/static/CSS/layui.css"/>
    <script src="/static/JavaScript/layui.js" type="text/javascript"></script>
    <script src="/static/JavaScript/jquery-1.8.3.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="/static/JavaScript/area.js" type="text/javascript"></script>
    <script src="/static/JavaScript/selectMore.js" type="text/javascript"></script>
    <script type="text/javascript" src="../../js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="../../js/demo.js"></script>


    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
    <script src="/static/JavaScript/echarts.min.js"></script>


    <!-- Minify Version -->
    <link rel="stylesheet" href="/static/CSS/vendor/vendor.min1.css">
    <link rel="stylesheet" href="/static/CSS/plugins/plugins.min1.css">

    <!-- Style CSS -->
    <!-- <link rel="stylesheet" href="/static/CSS/style.css"> -->
    <link rel="stylesheet" href="/static/CSS/style.min1.css">

</head>

<body>

<div class="main-wrapper">


    <div class="header-bottom d-none d-lg-block">
        <div class="container position-relative">
            <div class="row align-self-center">
                <!-- Header Logo Start -->
                <div class="col-auto align-self-center">
                    <div class="header-logo">
                        <form action="../../../" method="GET"><a href="../../../"><img
                                src="/static/Images/logo/logo.png"></a></form>

                    </div>
                </div>
                <!-- Header Logo End -->


                <!-- Header Action Start -->
                <div class="col align-self-center">
                    <label class="header-actions">
                        <!-- Search Begin -->
                        <div class="dropdown_search">
                            <form class="action-form" action="../../../services/" method="get">
                                <input class="form-control" name="search" placeholder="输入要搜索的服务" type="text">
                                <button class="submit" type="submit"><i class="icon-magnifier"></i></button>
                            </form>
                        </div>
                        <!-- Search End -->
                        <!-- User Begin -->
                        <div class="header-bottom-set dropdown">
                            <button class="dropdown-toggle header-action-btn" data-bs-toggle="dropdown"><i
                                    class="icon-user" style="margin-top: 10px;"></i></button>
                            <ul class="dropdown-menu dropdown-menu-right">
                                {% if is_login %}
                                    <li>
                                        <form action="../../../account/users/user_info_manage/" method="GET"><a
                                                class="dropdown-item"
                                                href="../../../account/users/user_info_manage/">我的账户{{ username }}</a>
                                        </form>
                                    </li>

                                    <li>

                                        <form action="../../../account/logout/" method="POST"><a name="logout"
                                                                                                 class="dropdown-item"
                                                                                                 href="../../../account/logout/"
                                                                                                 onclick="logout()">注销</a>
                                        </form>
                                    </li>

                                {% else %}
                                    <li>
                                        <form action="../../../passport/login/" method="GET"><a class="dropdown-item"
                                                                                                href="../../../passport/login/">登录/注册</a>
                                        </form>
                                    </li>
                                {% endif %}

                            </ul>
                        </div>
                        <!-- User End -->
                        <!-- Cart Begin -->
                        {% if is_login %}

                            <a href="../../../account/users/shop_cart"
                               class="header-action-btn header-action-btn-cart offcanvas-toggle pr-0">
                                <i class="icon-handbag" style="margin-top: 10px;"></i>

                            </a>
                        {% else %}

                            <label style="margin-left: 10px;margin-top: 10px">您好,请<a
                                    href="../../../passport/login">登录</a></label>

                        {% endif %}
                        <!-- Cart End -->
                        <a href="../../../account/users/shop_cart"
                           class="header-action-btn header-action-btn-menu offcanvas-toggle d-lg-none">
                            <i class="icon-menu"></i>
                        </a>
                </div>
            </div>

        </div>
        <!-- Header Bottom  End -->
    </div>
    <!-- Header Bottom  Start -->
    <div class="header-bottom d-lg-none sticky-nav bg-white">
        <div class="container position-relative">
            <div class="row align-self-center">
                <!-- Header Logo Start -->
                <div class="col-auto align-self-center">
                    <div class="header-logo">
                        <a href="index.html"><img src="/static/Images/logo/logo.png" alt="Site Logo"/></a>
                    </div>
                </div>
                <!-- Header Logo End -->

                <!-- Header Action Start -->
                <div class="col align-self-center">
                    <div class="header-actions">
                        <div class="header_account_list">
                            <a href="javascript:void(0)" class="header-action-btn search-btn"><i
                                    class="icon-magnifier"></i></a>
                            <div class="dropdown_search">
                                <form class="action-form" action="#">
                                    <input class="form-control" placeholder="Enter your search key" type="text">
                                    <button class="submit" type="submit"><i class="icon-magnifier"></i></button>
                                </form>
                            </div>
                        </div>
                        <!-- Single Wedge Start -->
                        <div class="header-bottom-set dropdown">
                            <button class="dropdown-toggle header-action-btn" data-bs-toggle="dropdown"><i
                                    class="icon-user" style="margin-top: 10px;"></i></button>
                            <ul class="dropdown-menu dropdown-menu-right">
                                <li><a class="dropdown-item" href="my-account.html">My account</a></li>
                                <li><a class="dropdown-item" href="checkout.html">Checkout</a></li>
                                <li><a class="dropdown-item" href="login.html">Sign in</a></li>
                            </ul>
                        </div>
                        <!-- Single Wedge End -->
                        <a href="#offcanvas-cart"
                           class="header-action-btn header-action-btn-cart offcanvas-toggle pr-0">
                            <i class="icon-handbag" style="margin-top: 10px;"></i>
                            <span class="header-action-num">01</span>
                            <!-- <span class="cart-amount">€30.00</span> -->
                        </a>
                        <a href="#offcanvas-mobile-menu"
                           class="header-action-btn header-action-btn-menu offcanvas-toggle d-lg-none">
                            <i class="icon-menu"></i>
                        </a>
                    </div>
                </div>
                <!-- Header Action End -->
            </div>
        </div>
    </div>
    <!-- Header Bottom  End -->
    <!-- Main Menu Start -->
    <div class="bg-black d-none d-lg-block sticky-nav">
        <div class="container position-relative">
            <div class="row">
                <div class="col-md-12 align-self-center">
                    <div class="main-menu">
                        <ul>
                            <li>
                                <form action="../../../" method="GET"><a class="single-link" href="../../../">首页</a>
                                </form>
                            </li>
                            <li class="dropdown"><a href="#">服务类别 <i class="ion-ios-arrow-down"></i></a>
                                <ul class="sub-menu">
                                    {% for service in services_sort %}
                                        <li>
                                            <a href="../../../services/?search={{ service.name }}&page=1">{{ service.name }}</a>
                                        </li>
                                    {% endfor %}
                                </ul>
                            </li>
                            <li>
                                <form action="../../../other/Q&A/" method="GET"><a class="single-link"
                                                                                   href="../../../other/Q&A/">常见问题</a>
                            </li>
                            <li>
                                <form action="../../../other/about/" method="GET"><a class="single-link"
                                                                                     href="../../../other/about/">关于我们</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Main Menu End -->

    <!-- OffCanvas Cart Start -->
    <div id="offcanvas-cart" class="offcanvas offcanvas-cart">
        <div class="inner">
            <div class="head">
                <span class="title">购物车</span>
                <button class="offcanvas-close">×</button>
            </div>
            <div class="body customScroll">
                <ul class="minicart-product-list">
                    <li>
                        <a href="single-product.html" class="image"><img src="/static/Images/product-image/1.jpg"
                                                                         alt="Cart product Image"></a>
                        <div class="content">
                            <a href="single-product.html" class="title">Walnut Cutting Board</a>
                            <span class="quantity-price">1 x <span class="amount">$91.86</span></span>
                            <a href="#" class="remove">×</a>
                        </div>
                    </li>
                    <li>
                        <a href="single-product.html" class="image"><img src="/static/Images/product-image/2.jpg"
                                                                         alt="Cart product Image"></a>
                        <div class="content">
                            <a href="single-product.html" class="title">Lucky Wooden Elephant</a>
                            <span class="quantity-price">1 x <span class="amount">$453.28</span></span>
                            <a href="#" class="remove">×</a>
                        </div>
                    </li>
                    <li>
                        <a href="single-product.html" class="image"><img src="/static/Images/product-image/3.jpg"
                                                                         alt="Cart product Image"></a>
                        <div class="content">
                            <a href="single-product.html" class="title">Fish Cut Out Set</a>
                            <span class="quantity-price">1 x <span class="amount">$87.34</span></span>
                            <a href="#" class="remove">×</a>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="foot">
                <div class="sub-total">
                    <table class="table">
                        <tbody>
                        <tr>
                            <td class="text-left">总计 :</td>
                            <td class="text-right theme-color">$632.48</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="buttons">
                    <!--                    <a href="cart.html" class="btn btn-dark btn-hover-primary mb-6">查看购物车详情</a>-->
                    <form action="account/users/shop_cart" method="GET">
                        <li class="li"><a class="btn btn-dark btn-hover-primary mb-6"
                                          href="account/users/shop_cart">查看购物车详情</a></li>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- OffCanvas Cart End -->


    <div class="offcanvas-overlay"></div>

    <!-- Begin Main Content Area -->
    <main class="main-content">
        <div class="account-page-area section-space-y-axis-100">
            <div class="container">
                <div class="row">
                    <div class="col-lg-3">
                        <ul class="nav myaccount-tab-trigger" id="account-page-tab" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link active" id="account-dashboard-tab" data-bs-toggle="tab"
                                   href="#account-dashboard" role="tab" aria-controls="account-dashboard"
                                   aria-selected="true">商铺信息</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="account-orders-tab" data-bs-toggle="tab" href="#account-orders"
                                   role="tab" aria-controls="account-orders" aria-selected="false">全部订单</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="account-change-tab" data-bs-toggle="tab" href="#account-change"
                                   role="tab" aria-controls="account-change" aria-selected="false">商品管理</a>
                            </li>
                            <script>
                                function getSaleData() {
                                    $.ajax({
                                        url: "../../../account/vendors/business_data/",
                                        type: "GET",
                                        beforeSend: function (xhr) {
                                            console.log("beforeSend")
                                        },
                                        success: function (json_data) {
                                            console.log("success")
                                            {#var obj = JSON.parse(json_data);#}
                                            var dom = document.getElementById("GraphDemoOne");
                                            var myChart = echarts.init(dom);
                                            var app = {};

                                            var option;

                                            option = {
                                                xAxis: {
                                                    type: 'category',
                                                    {#data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']#}
                                                    data: ['1', '2', '3', '4', '5', '6']

                                                },
                                                yAxis: {
                                                    type: 'value'
                                                },
                                                series: [{
                                                    {#data: [120, 200, 150, 80, 70, 110, 130],#}
                                                    data: [
                                                        json_data["recent_months_orders"]["距今第6月内"],
                                                        json_data["recent_months_orders"]["距今第5月内"],
                                                        json_data["recent_months_orders"]["距今第4月内"],
                                                        json_data["recent_months_orders"]["距今第3月内"],
                                                        json_data["recent_months_orders"]["距今第2月内"],
                                                        json_data["recent_months_orders"]["距今第1月内"],
                                                    ],
                                                    type: 'bar'
                                                }]
                                            };

                                            if (option && typeof option === 'object') {
                                                myChart.setOption(option);
                                            }


                                            var dom = document.getElementById("GraphDemoThree");
                                            var myChart = echarts.init(dom);
                                            var app = {};

                                            var option;


                                            option = {
                                                tooltip: {
                                                    trigger: 'item',
                                                    formatter: '{a} <br/>{b}: {c} ({d}%)'
                                                },
                                                legend: {
                                                    {#data: ['直达', '营销广告', '搜索引擎', '邮件营销', '联盟广告', '视频广告', '百度', '谷歌', '必应', '其他']#}
                                                    data: ['家庭清洁', '保姆服务', '电器维修', '居民搬家', '二手回收', '鲜花绿植', '生活配送', '管道疏通', '开锁换锁', '房屋维修']

                                                },
                                                series: [
                                                    {
                                                        name: '订单来源',
                                                        type: 'pie',
                                                        selectedMode: 'single',
                                                        radius: [0, '30%'],
                                                        label: {
                                                            position: 'inner',
                                                            fontSize: 14,
                                                        },
                                                        labelLine: {
                                                            show: false
                                                        },

                                                        {#data: [#}
                                                        {#    {value: 1548, name: '搜索引擎'},#}
                                                        {#    {value: 775, name: '直达'},#}
                                                        {#    {value: 679, name: '营销广告',}#}
                                                        {#]#}
                                                    },
                                                    {
                                                        name: '服务种类',
                                                        type: 'pie',
                                                        radius: ['45%', '60%'],
                                                        labelLine: {
                                                            length: 30,
                                                        },
                                                        label: {
                                                            formatter: '{a|{a}}{abg|}\n{hr|}\n  {b|{b}：}{c}  {per|{d}%}  ',
                                                            backgroundColor: '#F6F8FC',
                                                            borderColor: '#8C8D8E',
                                                            borderWidth: 1,
                                                            borderRadius: 4,

                                                            rich: {
                                                                a: {
                                                                    color: '#6E7079',
                                                                    lineHeight: 22,
                                                                    align: 'center'
                                                                },
                                                                hr: {
                                                                    borderColor: '#8C8D8E',
                                                                    width: '100%',
                                                                    borderWidth: 1,
                                                                    height: 0
                                                                },
                                                                b: {
                                                                    color: '#4C5058',
                                                                    fontSize: 14,
                                                                    fontWeight: 'bold',
                                                                    lineHeight: 33
                                                                },
                                                                per: {
                                                                    color: '#fff',
                                                                    backgroundColor: '#4C5058',
                                                                    padding: [3, 4],
                                                                    borderRadius: 4
                                                                }
                                                            }
                                                        },
                                                        data: [
                                                            {value: json_data['current_month_orders']['家庭清洁'], name: '家庭清洁'},
                                                            {value: json_data['current_month_orders']['保姆服务'], name: '保姆服务'},
                                                            {value: json_data['current_month_orders']['电器维修'], name: '电器维修'},
                                                            {value: json_data['current_month_orders']['居民搬家'], name: '居民搬家'},
                                                            {value: json_data['current_month_orders']['二手回收'], name: '二手回收'},
                                                            {value: json_data['current_month_orders']['鲜花绿植'], name: '鲜花绿植'},
                                                            {value: json_data['current_month_orders']['生活配送'], name: '生活配送'},
                                                            {value: json_data['current_month_orders']['管道疏通'], name: '管道疏通'},
                                                            {value: json_data['current_month_orders']['开锁换锁'], name: '开锁换锁'},
                                                            {value: json_data['current_month_orders']['房屋维修'], name: '房屋维修'}]
                                                    }
                                                ]
                                            };

                                            if (option && typeof option === 'object') {
                                                myChart.setOption(option);
                                            }
                                        },
                                    })

                                }
                            </script>
                            <li class="nav-item">
                                <a class="nav-link" id="account-sale-tab" data-bs-toggle="tab" href="#account-sale"
                                   role="tab" aria-controls="account-address" aria-selected="false"
                                   onclick="getSaleData()">经营数据</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="account-address-tab" data-bs-toggle="tab"
                                   href="#account-address" role="tab" aria-controls="account-address"
                                   aria-selected="false">修改密码</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="account-logout-tab"
                                   href="../../../shop/?s_id={{ shop.id }}&page=1"
                                   role="tab" aria-selected="false">店铺页面</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-lg-9">
                        <div class="tab-content myaccount-tab-content" id="account-page-tab-content">
                            <div class="tab-pane fade show active" id="account-dashboard" role="tabpanel"
                                 aria-labelledby="account-dashboard-tab">
                                <div class="myaccount-dashboard">
                                    <form method="post" action="" class="myaccount-form">
                                        <div class="myaccount-form-inner">
                                            <div class="single-input single-input-half">
                                                <label>用户名</label>
                                                <input type="text" value="{{ user.username }}">
                                                <label style="color: red" id="UsernameInfo">{{ msg }}</label>
                                            </div>
                                            <div class="single-input single-input-half">
                                                <label>用户ID</label>
                                                <input type="text" value="{{ user.id }}" disabled="true">
                                            </div>
                                            <div class="single-input">
                                                <label>店铺名</label>
                                                <input type="text" value="{{ shop.name }}">
                                            </div>
                                            <div class="single-input">
                                                <label>店铺状态</label>
                                                <select>
                                                    {% if shop.status %}
                                                        <option value="is_open" selected="true">运营</option>
                                                        <option value="is_close">停业</option>
                                                    {% else %}
                                                        <option value="is_open">运营</option>
                                                        <option value="is_close" selected="true">停业</option>
                                                    {% endif %}
                                                </select>
                                            </div>
                                            <div class="single-input">
                                                <label>邮箱</label>
                                                <input type="email" value="{{ user.email }}" disabled="true">
                                            </div>
                                            <div class="single-input">
                                                <label>创建时间</label>
                                                <input type="create_time" value="{{ shop.create_time }}"
                                                       disabled="true">
                                            </div>
                                            <div class="single-input">
                                                <label>手机号</label>
                                                <input type="number" name="phone-number" value="{{ user.phone }}"
                                                       maxlength="11">
                                            </div>
                                            <div class="single-input">
                                                <label>店铺地址</label>
                                                <input type="text" name="address_pvd"
                                                       value="省份：{{ prov }}  城市：{{ city }}  区县：{{ county }}"
                                                       disabled="true">
                                                <div style="height: 5px"></div>
                                                <input type="text" name="address" value="{{ user.details }}"
                                                       disabled="true">

                                                <script>
                                                    function ifChangeSelection() {
                                                        var tmp = document.getElementById("ifChangeTrue").checked;
                                                        if (tmp) {
                                                            document.getElementById("AddrSelection").style.visibility = "visible";
                                                            document.getElementById("AddrSelection").hidden = false;
                                                        } else {
                                                            document.getElementById("AddrSelection").style.visibility = "hidden";
                                                            document.getElementById("prov").val = 0;
                                                            document.getElementById("city").val = 0;
                                                            document.getElementById("country").val = 0;
                                                        }
                                                    }
                                                </script>
                                                <div>
                                                    <input id="ifChangeTrue" name="ifChangeTrue" value=1 type="checkbox"
                                                           style="height: 15px;size: 15px;width: 100px"
                                                           onchange="ifChangeSelection()">修改地址</input>
                                                </div>
                                                <div id="AddrSelection" hidden="hidden">
                                                    <div style="height: 5px"></div>
                                                    <script>
                                                        $(function () {
                                                            var current_prov;
                                                            var current_city;
                                                            var current_country;
                                                            /* 自动加载省份列表 */
                                                            showPro();
                                                        });

                                                        function showPro() {
                                                            $(".btn").disabled = true;
                                                            var len = province.length;
                                                            for (var i = 0; i < len; i++) {
                                                                var provOpt = document.createElement("option");
                                                                provOpt.innerText = province[i]['name'];
                                                                provOpt.value = i;
                                                                prov.appendChild(provOpt);
                                                            }
                                                        };

                                                        /*根据所选的省份来显示城市列表*/
                                                        function showCity(obj) {
                                                            var val = obj.options[obj.selectedIndex].value;
                                                            current_prov = val;
                                                            if (val >= 0) {
                                                                city.style.display = 'inline-block';
                                                                country.style.display = 'none';
                                                            } else {
                                                                city.style.display = 'none';
                                                                country.style.display = 'none';
                                                            }
                                                            if (val != null) {
                                                                city.length = 1;
                                                                if (province[val]) {
                                                                    var cityLen = province[val]["city"].length;
                                                                }
                                                                for (var j = 0; j < cityLen; j++) {
                                                                    var cityOpt = document.createElement('option');
                                                                    cityOpt.innerText = province[val]["city"][j].name;
                                                                    cityOpt.value = j;
                                                                    city.appendChild(cityOpt);
                                                                }
                                                            }
                                                        };

                                                        /*根据所选的城市来显示县区列表*/
                                                        function showCountry(obj) {
                                                            var val = obj.options[obj.selectedIndex].value;
                                                            if (val >= 0) {
                                                                country.style.display = 'inline-block';
                                                            } else {
                                                                country.style.display = 'none';
                                                            }
                                                            current_city = val;
                                                            if (val != null) {
                                                                country.length = 1;
                                                                if (province[current_prov]["city"][val]) {
                                                                    var countryLen = province[current_prov]["city"][val].districtAndCounty.length;
                                                                }
                                                                if (countryLen == 0) {
                                                                    addrShow.value = province[current_prov].name + '-' + province[current_prov]["city"][val].name;
                                                                    return;
                                                                }
                                                                for (var n = 0; n < countryLen; n++) {
                                                                    var countryOpt = document.createElement('option');
                                                                    countryOpt.innerText = province[current_prov]["city"][val].districtAndCounty[n];
                                                                    countryOpt.value = n;
                                                                    country.appendChild(countryOpt);
                                                                }
                                                            }
                                                        };

                                                        function selectCountry(obj) {
                                                            current_country = obj.options[obj.selectedIndex].value;
                                                            $(".btn").disabled = false;

                                                        };

                                                        function showAddr() {
                                                            var ss = province[current_prov].name + "|" +
                                                                province[current_prov]['city'][current_city].name + "|" +
                                                                province[current_prov]['city'][current_city]['districtAndCounty'][current_country];
                                                            $("#addr-show").val(ss);
                                                        }
                                                    </script>
                                                    <script src="/static/JavaScript/province.js"></script>
                                                    <!-- 省份选择 -->
                                                    <select id="prov" name="prov" onchange="showCity(this)">
                                                        <option>省份</option>
                                                    </select>
                                                    <!-- 城市选择 -->
                                                    <select id="city" name="city" onchange="showCountry(this)">
                                                        <option>城市</option>
                                                    </select>
                                                    <!-- 区县选择 -->
                                                    <select id="country" name="county" onchange="selectCountry(this)">
                                                        <option>县区</option>
                                                    </select>
                                                    <input type="text" name="addr" placeholder="详细地址">
                                                </div>
                                            </div>
                                            <div class="single-input">
                                                <button class="btn btn-custom-size lg-size btn-secondary btn-primary-hover rounded-0"
                                                        type="submit">
                                                    <span>保存改变</span>
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="account-orders" role="tabpanel"
                                 aria-labelledby="account-orders-tab">
                                <div class="myaccount-orders">
                                    <h4 class="small-title">我的订单</h4>
                                    <div class="table-responsive">
                                        <table class="table table-bordered table-hover">
                                            <tbody>
                                            <tr>
                                                <th>订单号</th>
                                                <th>服务名称</th>
                                                <th>订单开始时间</th>
                                                <th>订单结束时间</th>
                                                <th>支付状态</th>
                                            </tr>
                                            {% for order in order_list %}
                                                <tr>
                                                    <td>{{ order.id }}</td>
                                                    <td>{{ order.service.name }}</td>
                                                    <td>{{ order.start_time }}</td>
                                                    <td>{{ order.end_time }}</td>
                                                    {% if order.pay_status %}
                                                        <td>已支付</td>
                                                    {% else %}
                                                        <td>未支付</td>
                                                    {% endif %}


                                                    </td>
                                                </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="account-change" role="tabpanel"
                                 aria-labelledby="account-change-tab">
                                <div class="change-delete-area pt-300px pb-300px">
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-lg-7 col-md-12 ml-auto mr-auto">
                                                <div class="change-delete-wrapper">
                                                    <div class="change-delete-tab-list nav">
                                                        <a class="active" data-bs-toggle="tab" href="#lg1">
                                                            <h4>增加服务</h4>
                                                        </a>
                                                        <a data-bs-toggle="tab" href="#lg2">
                                                            <h4>删除服务</h4>
                                                        </a>
                                                    </div>
                                                    <div class="tab-content">
                                                        <div id="lg1" class="tab-pane active">
                                                            <div class="login-form-container">
                                                                <div class="change-delete-form">
                                                                    <form action="#" method="post">
                                                                        <input type="text" name="service_name"
                                                                               maxlength="12" minlength="3"
                                                                               placeholder="服务名称"/>
                                                                        <input type="text" name="service_price"
                                                                               maxlength="12" minlength="3"
                                                                               placeholder="服务价格"/>
                                                                        <input type="text" name="service_detail"
                                                                               maxlength="500" minlength="6"
                                                                               placeholder="备注（不超过五百字）"/>
                                                                        <div class="layui-form-item">
                                                                            <label class="layui-form-label">图片</label>
                                                                            <div class="layui-input-block">
                                                                                <input type="hidden" id="img_url">
                                                                                <input type="file" onchange="showImg()"
                                                                                       id="img_file"><img src="" alt=""
                                                                                                          id="img_id"
                                                                                                          style="width: 100px">
                                                                            </div>
                                                                        </div>
                                                                        <div class="button-box">
                                                                            <form method="post" action="#">
                                                                                <button type="submit"><span>确认提交</span>
                                                                                </button>
                                                                            </form>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div id="lg2" class="tab-pane">
                                                            <div class="login-form-container">
                                                                <div class="change-delete-form">
                                                                    <form action="#" method="post">
                                                                        <label>待删除的服务名称</label>
                                                                        <input type="text" name="service_input"
                                                                               maxlength="12" minlength="3"
                                                                               placeholder="服务名称"/>
                                                                        <div class="button-box">
                                                                            <form method="post" action="#">
                                                                                <button type="submit"><span>确认删除</span>
                                                                                </button>
                                                                            </form>
                                                                        </div>
                                                                    </form>
                                                                    <script>
                                                                        function check() {
                                                                            var service = document.getElementById("a").value;
                                                                            var service_input = document.getElementById("b").value;
                                                                            if (service != service_input) {
                                                                                alert("服务名称不存在，请核查！");
                                                                            }
                                                                        }
                                                                    </script>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="account-sale" role="tabpanel"
                                 aria-labelledby="account-address-tab">
                                <div class="myaccount-address">
                                    <p>此部分为店铺经营数据可视化图表部分，待完成。。。。。。</p>
                                    <div>
                                        <div id="GraphDemoOne" style="height:500px"></div>
                                        {#                                        <script type="text/javascript">#}
                                        {##}
                                        {#                                            var obj = JSON.parse({{ json_data }});#}
                                        {#                                            for (i in obj.recent_months_orders) {#}
                                        {##}
                                        {#                                            }#}
                                        {##}
                                        {##}
                                        {#                                            var dom = document.getElementById("GraphDemoOne");#}
                                        {#                                            var myChart = echarts.init(dom);#}
                                        {#                                            var app = {};#}
                                        {##}
                                        {#                                            var i, j, order;#}
                                        {#                                            var sort_count = [];#}
                                        {##}
                                        {##}
                                        {#                                            var services_sort_var = [];#}
                                        {#                                            {% for service in services_sort %}#}
                                        {#                                                services_sort_var.add(service.sort.name)#}
                                        {#                                            {% endfor %}#}
                                        {##}
                                        {#                                            console.log(services_sort_var)#}
                                        {##}
                                        {#                                            var option;#}
                                        {##}
                                        {#                                            option = {#}
                                        {#                                                title: {#}
                                        {#                                                    text: '各月服务销量条形图'#}
                                        {#                                                },#}
                                        {#                                                tooltip: {},#}
                                        {#                                                legend: {#}
                                        {#                                                    data: ['销量']#}
                                        {#                                                },#}
                                        {#                                                xAxis: {#}
                                        {#                                                    data: [#}
                                        {#                                                        '1',#}
                                        {#                                                        '2',#}
                                        {#                                                        '3',#}
                                        {#                                                        '4',#}
                                        {#                                                        '5',#}
                                        {#                                                        '6',#}
                                        {#                                                    ],#}
                                        {#                                                },#}
                                        {#                                                yAxis: {},#}
                                        {#                                                series: [{#}
                                        {#                                                    name: '销量',#}
                                        {#                                                    type: 'bar',#}
                                        {#                                                    data: sort_count,#}
                                        {#                                                }]#}
                                        {#                                            };#}
                                        {##}
                                        {#                                            if (option && typeof option === 'object') {#}
                                        {#                                                myChart.setOption(option);#}
                                        {#                                            }#}
                                        {##}
                                        {#                                        </script>#}
                                        <script type="text/javascript"
                                                src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
                                        <script type="text/javascript" src="/static/JavaScript/echarts.min.js"></script>
                                        <script type="text/javascript" src="/static/JavaScript/echarts.js"></script>

                                        <script type="text/javascript">

                                        </script>
                                    </div>
                                    {#                                    <div>#}
                                    {#                                        <div id="GraphDemoTwo" style="height: 500px"></div>#}
                                    {#                                        <script type="text/javascript"#}
                                    {#                                                src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>#}
                                    {#                                        <script type="text/javascript">#}
                                    {#                                            var dom = document.getElementById("GraphDemoTwo");#}
                                    {#                                            var myChart = echarts.init(dom);#}
                                    {#                                            var app = {};#}
                                    {##}
                                    {#                                            var option;#}
                                    {##}
                                    {##}
                                    {#                                            option = {#}
                                    {#                                                title: {#}
                                    {#                                                    text: '最近1个月按服务分类订单情况'#}
                                    {#                                                },#}
                                    {#                                                backgroundColor: '#FFFFFF',#}
                                    {#                                                series: [#}
                                    {#                                                    {#}
                                    {#                                                        name: '订单来源',#}
                                    {#                                                        type: 'pie',#}
                                    {#                                                        radius: '55%',#}
                                    {#                                                        data: [#}
                                    {#                                                        {% for i in recent_months_orders %}}#}
                                    {#                                                            {value: i."val", name: i."month_name"},#}
                                    {#                                                        {% endfor %}#}
                                    {#                                                ],#}
                                    {#                                                roseType: 'angle',#}
                                    {#                                                label: {#}
                                    {#                                                    normal: {#}
                                    {#                                                        textStyle: {#}
                                    {#                                                            color: 'rgba(0, 0, 0, 0.3)'#}
                                    {#                                                        }#}
                                    {#                                                    }#}
                                    {#                                                },#}
                                    {#                                                labelLine: {#}
                                    {#                                                    normal: {#}
                                    {#                                                        lineStyle: {#}
                                    {#                                                            color: 'rgba(255, 255, 255, 0.3)'#}
                                    {#                                                        }#}
                                    {#                                                    }#}
                                    {#                                                },#}
                                    {#                                                itemStyle: {#}
                                    {#                                                    normal: {#}
                                    {#                                                        shadowBlur: 200,#}
                                    {#                                                        shadowColor: 'rgba(0, 0, 0, 0.5)'#}
                                    {#                                                    }#}
                                    {#                                                }#}
                                    {#                                            }#}
                                    {#                                            ]#}
                                    {#                                            }#}
                                    {#                                            ;#}
                                    {##}
                                    {#                                            if (option && typeof option === 'object') {#}
                                    {#                                                myChart.setOption(option);#}
                                    {#                                            }#}
                                    {##}
                                    {#                                        </script>#}
                                    {#                                    </div>#}
                                    <div>
                                        <div id="GraphDemoThree" style="height: 700px">
                                            <script type="text/javascript"
                                                    src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
                                            <script type="text/javascript">

                                            </script>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="account-address" role="tabpanel"
                                 aria-labelledby="account-address-tab">
                                <div class="myaccount-address">
                                    <div class="myaccount-form-inner">
                                        <div class="single-input">
                                            <label>当前密码</label>
                                            <input type="password" id="current_password" minlength="6" maxlength="12">
                                            <label style="color: red" id="oldPasswordInfo"></label>
                                        </div>
                                        <div class="single-input">
                                            <label>新密码</label>
                                            <input type="password" id="new_password" minlength="6" maxlength="12">
                                            <label style="color: red" id="newPasswordInfo"></label>

                                        </div>

                                        <div class="single-input">
                                            <label>确认密码</label>
                                            <input type="password" id="confirm_password" minlength="6" maxlength="12">
                                            <label style="color: red" id="ConfirmPasswordInfo"></label>
                                        </div>
                                        <script>
                                            function AjaxChangePassword() {
                                                $.ajax({
                                                    url: "../../../account/change_psw/",
                                                    type: "POST",
                                                    data: {
                                                        "old_password": $("#current_password").val(),
                                                        "new_password": $("#new_password").val(),
                                                    },
                                                    beforeSend: function (xhr) {
                                                        if ($("#current_password").val().length < 6 || $("#current_password").val().length > 12) {
                                                            $("#oldPasswordInfo").text("原密码长度不符合要求!")
                                                            xhr.abort()
                                                        } else {
                                                            $("#oldPasswordInfo").text("")
                                                            if ($("#new_password").val().length < 6 || $("#new_password").val().length > 12) {
                                                                $("#newPasswordInfo").text("新密码长度不符合要求!")
                                                                xhr.abort()
                                                            } else {
                                                                $("#newPasswordInfo").text("")
                                                                if (($("#new_password").val() !== "") && ($("#new_password").val() === $("#current_password").val())) {
                                                                    $("#newPasswordInfo").text("新密码不能与旧密码相同！")
                                                                    xhr.abort()
                                                                } else {
                                                                    $("#newPasswordInfo").text("")
                                                                    if ($("#new_password").val() !== $("#confirm_password").val()) {
                                                                        $("#ConfirmPasswordInfo").text("两次输入的新密码不一致!")
                                                                        xhr.abort()
                                                                    } else {
                                                                        $("#ConfirmPasswordInfo").text("")
                                                                    }
                                                                }
                                                            }
                                                        }


                                                    },
                                                    success: function (return_msg) {
                                                        if (return_msg === "ok") {
                                                            alert("修改成功!")
                                                            location.href = "../../../account/users/user_info_manage"
                                                        } else {
                                                            $("#oldPasswordInfo").text(return_msg)
                                                        }
                                                    }
                                                })
                                            }
                                        </script>
                                        <div class="single-input">
                                            <button class="btn btn-custom-size lg-size btn-secondary btn-primary-hover rounded-0"
                                                    type="submit" onclick="AjaxChangePassword()">
                                                <span>提交</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <!-- Main Content Area End Here -->

    <!-- Footer Area Start -->
    <div class="footer-area">
        <div class="footer-container">
            <div class="footer-top">
                <div class="container">
                    <div class="row">

                        <!-- Start single blog -->
                        <div class="col-md-6 col-lg-4 mb-md-30px mb-lm-30px" data-aos="fade-up" data-aos-delay="200">
                            <div class="single-wedge">
                                <form action="../../../other/about/" method="GET">
                                    <li class="li"><a class="single-link" href="../../../other/about/">关于我们</a></li>
                                </form>
                                <p class="about-text"> 公司简介简介简介</p>

                            </div>
                        </div>
                        <!-- End single blog -->

                        <!-- Start single blog -->
                        <div class="col-md-6 col-sm-6 col-lg-3 mb-md-30px mb-lm-30px" data-aos="fade-up"
                             data-aos-delay="400">
                            <div class="single-wedge">
                                <h4 class="footer-herading">其他</h4>
                                <div class="footer-links">
                                    <div class="footer-row">
                                        <ul class="align-items-center">
                                            <form action="../../../other/Q&A/" method="GET">
                                                <li class="li"><a class="single-link"
                                                                  href="../../../other/Q&A/">常见问题</a></li>
                                            </form>
                                            <!--                                            <li class="li"><a class="single-link" href="other/Q&A/">常见问题</a></li>-->
                                            <form action="../../../other/privacy_policy/" method="GET">
                                                <li class="li"><a class="single-link"
                                                                  href="../../../other/privacy_policy/">隐私政策</a>
                                                </li>
                                            </form>
                                            <!--                                            <li class="li"><a class="single-link" href="other/privacy-policy/">隐私政策</a></li>-->
                                            <form action="../../../admin/" method="GET">
                                                <li class="li"><a class="single-link" href="../../../admin/">管理员登陆</a>
                                                </li>
                                            </form>
                                            <!--                                            <li class="li"><a class="single-link" href="admin/">管理员登陆</a></li>-->
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- End single blog -->

                        <!-- Start single blog -->
                        <div class="col-md-6 col-lg-2 col-sm-6 mb-lm-30px" data-aos="fade-up" data-aos-delay="600">
                            <div class="single-wedge">
                                <h4 class="footer-herading">账户</h4>
                                <div class="footer-links">
                                    <div class="footer-row">
                                        <ul class="align-items-center">
                                            {% if is_login %}
                                                <form action="../../../account/users/user_info_manage" method="GET">
                                                    <li class="li"><a class="single-link"
                                                                      href="../../../account/users/user_info_manage">我的账户</a>
                                                    </li>
                                                </form>
                                                <form action="../../../account/users/shop_cart" method="GET">
                                                    <li class="li"><a class="single-link"
                                                                      href="../../../account/users/shop_cart">购物车</a>
                                                    </li>
                                                </form>
                                                <form action="../../../passport/logout" method="POST">
                                                    <li class="li"><a class="single-link"
                                                                      href="../../../passport/logout"
                                                                      onclick="logout()">注销</a></li>
                                                </form>

                                                <!--                                        <script>-->
                                                <!--                                            function logout() {-->
                                                <!--                                                alert("注销成功!")-->
                                                <!--                                            }-->
                                                <!--                                        </script>-->
                                            {% else %}
                                                <form action="../../../passport/login/" method="GET">
                                                    <li class="li"><a class="single-link"
                                                                      href="../../../passport/login/">登录</a></li>
                                                </form>
                                            {% endif %}
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- End single blog -->
                        <!-- Start single blog -->
                        <div class="col-md-6 col-lg-3" data-aos="fade-up" data-aos-delay="800">
                            <div class="single-wedge">
                                <div class="footer-links">
                                </div>
                            </div>
                        </div>
                        <!-- End single blog -->
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="container">
                    <div class="row flex-sm-row-reverse">
                        <div class="col-md-6 text-right">
                            <div class="payment-link">
                                <img src="/static/Images/icons/payment.png" alt="">
                            </div>
                        </div>
                        <div class="col-md-6 text-left">
                            <p class="copy-text">Copyright&copy; Let's购 2021. &nbsp;All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer Area End -->

    <!-- Begin Scroll To Top -->
    <a class="scroll-to-top" href="">
        <i class="fa fa-chevron-up"></i>
    </a>
    <!-- Scroll To Top End Here -->

</div>

<!-- Global Vendor, plugins JS -->

<!-- JS Files
============================================ -->
<!-- Global Vendor, plugins JS -->

<!-- Vendor JS -->
<!-- <script src="/static/JavaScript/vendor/bootstrap.bundle.min.js"></script> -->
<!-- <script src="/static/JavaScript/vendor/jquery-3.5.1.min.js"></script> -->
<!-- <script src="/static/JavaScript/vendor/jquery-migrate-3.3.0.min.js"></script> -->
<!-- <script src="/static/JavaScript/vendor/modernizr-3.11.2.min.js"></script> -->
<!-- <script src="/static/JavaScript/vendor/jquery.waypoints.js"></script> -->

<!--Plugins JS-->
<!-- <script src="/static/JavaScript/plugins/wow.min.js"></script> -->
<!-- <script src="/static/JavaScript/plugins/jquery-ui.min.js"></script> -->
<!-- <script src="/static/JavaScript/plugins/swiper-bundle.min.js"></script> -->
<!-- <script src="/static/JavaScript/plugins/jquery.nice-select.js"></script> -->
<!-- <script src="/static/JavaScript/plugins/parallax.min.js"></script> -->
<!-- <script src="/static/JavaScript/plugins/jquery.magnific-popup.min.js"></script> -->

<!-- Minify Version -->
<script src="/static/JavaScript/vendor.min1.js"></script>
<script src="/static/JavaScript/plugins.min1.js"></script>

<!--Main JS (Common Activation Codes)-->
<!-- <script src="/static/JavaScript/main.js"></script> -->
<script src="/static/JavaScript/main.min1.js"></script>
<script src="/static/JavaScript/vendor/vendor.min.js"></script>
<script src="/static/JavaScript/plugins/plugins.min.js"></script>
<script src="/static/JavaScript/echarts.min.js"></script>

<!-- Main Js -->
<script src="/static/JavaScript/main.js"></script>
</body>

</html>